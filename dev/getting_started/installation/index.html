<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Installation · DiffPrivacyInference</title><script data-outdated-warner src="../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.044/juliamono.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.11/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../../">DiffPrivacyInference</a></span></div><form class="docs-search" action="../../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../../">Overview</a></li><li><span class="tocitem">Getting Started</span><ul><li class="is-active"><a class="tocitem" href>Installation</a><ul class="internal"><li><a class="tocitem" href="#Using-the-julia-package-manager"><span>Using the julia package manager</span></a></li><li><a class="tocitem" href="#From-source"><span>From source</span></a></li></ul></li><li><a class="tocitem" href="../quick_guide/">Quick Guide</a></li></ul></li><li><span class="tocitem">Tutorial</span><ul><li><a class="tocitem" href="../../tutorial/01_sensitivity_functions/">Sensitivity functions</a></li><li><a class="tocitem" href="../../tutorial/02_privacy_functions/">Privacy functions</a></li></ul></li><li><span class="tocitem">Full Reference</span><ul><li><a class="tocitem" href="../../full_reference/types/">Types</a></li><li><a class="tocitem" href="../../full_reference/annotations/">Annotations</a></li><li><a class="tocitem" href="../../full_reference/builtins/">Builtins</a></li><li><a class="tocitem" href="../../full_reference/scoping_rules/">Scoping rules</a></li><li><a class="tocitem" href="../../full_reference/mutating_functions/">Mutating functions</a></li></ul></li><li><span class="tocitem">Development Notes</span><ul><li><a class="tocitem" href="../../development_notes/updating_haskell/">Managing the two repositories</a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Getting Started</a></li><li class="is-active"><a href>Installation</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Installation</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/DiffMu/DiffPrivacyInference.jl/blob/master/docs/src/getting_started/installation.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Installation"><a class="docs-heading-anchor" href="#Installation">Installation</a><a id="Installation-1"></a><a class="docs-heading-anchor-permalink" href="#Installation" title="Permalink"></a></h1><h2 id="Using-the-julia-package-manager"><a class="docs-heading-anchor" href="#Using-the-julia-package-manager">Using the julia package manager</a><a id="Using-the-julia-package-manager-1"></a><a class="docs-heading-anchor-permalink" href="#Using-the-julia-package-manager" title="Permalink"></a></h2><p>The easiest way to install this package is using the julia package manager.</p><h3 id="Prerequisites"><a class="docs-heading-anchor" href="#Prerequisites">Prerequisites</a><a id="Prerequisites-1"></a><a class="docs-heading-anchor-permalink" href="#Prerequisites" title="Permalink"></a></h3><p>Since part of this project is written in Haskell and build with the <a href="https://docs.haskellstack.org/en/stable/README/">haskell tool stack</a>, you will also need it for installing this package. Fortunately, this is the only thing you need, as managing and installing the rest of the haskell dependencies is done by stack.</p><p>For installing stack best follow the <a href="https://docs.haskellstack.org/en/stable/README/#how-to-install">offical instructions</a>.</p><h3 id="Getting-this-package"><a class="docs-heading-anchor" href="#Getting-this-package">Getting this package</a><a id="Getting-this-package-1"></a><a class="docs-heading-anchor-permalink" href="#Getting-this-package" title="Permalink"></a></h3><p>Simply execute the following command in the julia shell:</p><pre><code class="language-julia hljs">] add https://github.com/DiffMu/DiffPrivacyInference.jl</code></pre><p>This should produce something similar to the following output, while julia installs all required dependencies:</p><pre><code class="language-julia hljs">(my-env) pkg&gt; add https://github.com/DiffMu/DiffPrivacyInference.jl
    Updating git-repo `https://github.com/DiffMu/DiffPrivacyInference.jl`
    Updating registry at `~/.julia/registries/General.toml`
   Resolving package versions...
    Updating `~/my-env/Project.toml`
  [c8299d45] + DiffPrivacyInference v0.1.0 `https://github.com/DiffMu/DiffPrivacyInference.jl#main`
    Updating `~/my-env/Manifest.toml`
  [621f4979] + AbstractFFTs v1.1.0
  ...
  (lots of julia packages here)
  ...
  [3f19e933] + p7zip_jll
    Building DiffPrivacyInference → `~/.julia/scratchspaces/44cfe95a-1eb2-52ea-b672-e2afdf69b78f/ced72be8f47015fe6f6ec85b815ac8d979225462/build.log`
  Progress [&gt;                                        ]  0/1</code></pre><p>This last step might take a long time, since here the haskell build (including all dependencies) happens. To get some feedback about progress, you can watch the content of the given <code>build.log</code> file (e.g. using <code>tail path-to-log/build.log</code>).</p><p>When this is done, you can load the DiffPrivacyInference package in your julia shell:</p><pre><code class="language-julia hljs">julia&gt; using DiffPrivacyInference</code></pre><h2 id="From-source"><a class="docs-heading-anchor" href="#From-source">From source</a><a id="From-source-1"></a><a class="docs-heading-anchor-permalink" href="#From-source" title="Permalink"></a></h2><h3 id="Dependencies"><a class="docs-heading-anchor" href="#Dependencies">Dependencies</a><a id="Dependencies-1"></a><a class="docs-heading-anchor-permalink" href="#Dependencies" title="Permalink"></a></h3><p>This project uses both Julia and Haskell, as such, you need to have both languages installed. In particular, in order to run/build from source, you need:</p><ul><li><a href="https://julialang.org/">Julia</a>, a relatively recent version, e.g. <code>&gt;= 1.6.1</code></li><li><a href="https://docs.haskellstack.org/en/stable/README/">Haskell Tool Stack</a> version <code>&gt;= 1.6.0</code></li><li>GNU Make</li></ul><h3 id="Getting-the-source-and-building"><a class="docs-heading-anchor" href="#Getting-the-source-and-building">Getting the source and building</a><a id="Getting-the-source-and-building-1"></a><a class="docs-heading-anchor-permalink" href="#Getting-the-source-and-building" title="Permalink"></a></h3><ol><li>Clone this repository, as well as the <a href="https://github.com/DiffMu/DiffPrivacyInference.jl">julia frontend</a>. (They do not have to be cloned into the same directory)<pre><code class="language-bash hljs">~ $ git clone https://github.com/DiffMu/DiffPrivacyInferenceHs
~ $ git clone https://github.com/DiffMu/DiffPrivacyInference.jl</code></pre></li><li>Build the haskell project.<pre><code class="language-bash hljs">~/DiffPrivacyInferenceHs $ make install</code></pre><blockquote><p><strong>NOTE</strong>: The makefile is a small wrapper which calls <code>stack build</code>, and then copies the built library <code>libdiffmu-wrapper</code> to the location given at the top of the makefile, <code>LIB_INSTALL_DIR = $${HOME}/.local/lib</code>. This is the location where the julia frontend expects to find the library, but by updating it in both places (makefile and in <code>DiffPrivacyInference.jl/src/haskell_interface.jl</code>) it can be changed.</p></blockquote></li><li>Register <code>DiffPrivacyInference.jl</code> as a local package by navigating into the directory you cloned the julia frontend repo into and launching the julia REPL. There, first activate the package by entering<pre><code class="nohighlight hljs">] activate .</code></pre>Then install all dependencies:<pre><code class="nohighlight hljs">] instantiate</code></pre></li><li>Still in the julia REPL, load the project with<pre><code class="language-julia hljs">julia&gt; using DiffPrivacyInference</code></pre></li></ol><h3 id="Usage"><a class="docs-heading-anchor" href="#Usage">Usage</a><a id="Usage-1"></a><a class="docs-heading-anchor-permalink" href="#Usage" title="Permalink"></a></h3><p>To parse a string and then typecheck it using the haskell backend, do</p><pre><code class="language-julia hljs">julia&gt; term = string_to_dmterm(&quot;function my_identity(a)
                                  return a
                                end&quot;)

julia&gt; typecheck_hs_from_dmterm(term)</code></pre><p>To execute all (haskell-)tests, simply run</p><pre><code class="language-julia hljs">julia&gt; test_hs()</code></pre><h3 id="Tips-and-Tricks"><a class="docs-heading-anchor" href="#Tips-and-Tricks">Tips &amp; Tricks</a><a id="Tips-and-Tricks-1"></a><a class="docs-heading-anchor-permalink" href="#Tips-and-Tricks" title="Permalink"></a></h3><p>You may want to use <a href="getting_started/"><code>Revise.jl</code></a> so you don&#39;t have to restart the REPL everytime you change the code. If you put</p><pre><code class="language-julia hljs">using Revise</code></pre><p>in your <code>~/.julia/config/startup.jl</code> (or wherever you keep your julia config), you won&#39;t have to type it on every REPL restart.</p></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../../">« Overview</a><a class="docs-footer-nextpage" href="../quick_guide/">Quick Guide »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.16 on <span class="colophon-date" title="Monday 25 April 2022 10:38">Monday 25 April 2022</span>. Using Julia version 1.7.2.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
